<!doctype html>
<html lang="ko">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>1청년부 기도훈련집</title>
		<style>
			:root{
				--bg:#f7f6f3;
				--paper:#fffdf8;
				--accent:#2b6cb0;
				--muted:#6b7280;
				--shadow: 0 6px 18px rgba(15,23,42,0.12);
				--max-width:900px;
				/* 모바일에서 자연스럽게 크기 변화: 저장된 사용자 설정이 없을 때 기본으로 사용됩니다 */
				--base-font-size: clamp(14px, 3.5vw, 18px);
			}
			*{box-sizing:border-box}
			body{
				margin:0; font-family:"Noto Sans KR", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
				background: var(--bg);
				color:#0f172a; -webkit-font-smoothing:antialiased;
				padding:32px 16px;
				display:flex; justify-content:center;
			}
			.book{
				width:100%; max-width:var(--max-width); background:var(--paper); border-radius:12px; box-shadow:var(--shadow);
				overflow:hidden; display:flex; flex-direction:column;
			}
			header.cover{
				padding:56px 40px; display:flex; gap:24px; align-items:center; background:var(--paper);
			}
			.cover-art{
				width:160px; height:220px; background:#fff; border-radius:6px; color:var(--accent);
				border:1px solid rgba(43,108,176,0.06); display:flex; align-items:center; justify-content:center; font-weight:700; font-size:20px; text-align:center;
		}
		.cover-art img.cover-img{ width:100%; height:100%; object-fit:contain; display:block; border-radius:6px }
			.cover-meta h1{margin:0; font-size:28px; letter-spacing:-0.4px}
			.cover-meta p{margin:8px 0 0; color:var(--muted)}
			nav.toc{
				padding:20px 28px; border-top:1px solid #eef2f6; display:flex; gap:16px; align-items:center; justify-content:space-between;
			}
			.toc-list{display:flex; gap:12px; align-items:center}
			.toc-entry{display:flex; align-items:center; gap:8px}
			.star-btn{background:transparent; border:0; font-size:18px; cursor:pointer; line-height:1; padding:6px; border-radius:6px}
			.star-btn[aria-pressed="true"]{color:#f6ad55} /* filled-ish color */
			.favorites-list{margin-top:12px}
			.favorites-list li{padding:8px 0}
			.toc-list a{color:var(--accent); text-decoration:none; padding:8px 12px; border-radius:8px}
			.toc-list a.active{background:rgba(43,108,176,0.08)}
			.content{
				padding:28px; line-height:1.9; font-size:var(--base-font-size); min-height:320px;
			}
			.font-btn{background:transparent;border:1px solid rgba(15,23,42,0.06);padding:6px 8px;border-radius:6px;cursor:pointer;color:var(--accent)}
			article.chapter{display:none}
			article.chapter.active{display:block}
			.page-controls{display:flex; gap:8px; align-items:center}
			button.btn{background:var(--accent); color:white; border:0; padding:8px 12px; border-radius:8px; cursor:pointer}
			button.btn.ghost{background:transparent; color:var(--accent); border:1px solid rgba(43,108,176,0.12)}
			footer{
				padding:12px 20px; border-top:1px solid #eef2f6; display:flex; justify-content:space-between; align-items:center; font-size:13px; color:var(--muted)
			}
			/* responsive */
			@media (max-width:640px){
				header.cover{flex-direction:column; align-items:flex-start}
				.cover-art{width:120px;height:160px}
				/* 버튼들이 화면에서 넘치지 않도록 줄바꿈 허용 및 간격 조정 */
				.nav, .page-controls { flex-wrap: wrap; gap:10px; }
				/* 터치 친화적 버튼 크기 */
				.font-btn, .btn, .star-btn { padding:10px 12px; min-height:44px; font-size:16px; }
				.content{ padding:16px; line-height:1.95; }
				/* 목차는 세로로 쌓아서 가독성 개선 */
				.toc-list{ flex-direction:column; gap:8px; }
			}

			/* 오버플로우 및 긴 텍스트/미디어 처리 */
			img, iframe, table { max-width:100%; height:auto; }
			.content { word-break:break-word; -webkit-font-smoothing:antialiased; }
			/* small print style for prayer lines */
			.prayer{background:#fffefb; border-left:4px solid #ffd166; padding:12px 14px; border-radius:6px}
		</style>
	</head>
	<body>
		<div class="book" role="application" aria-label="전자책: 1청년부 기도훈련집">
			<header class="cover">
				<div class="cover-art" aria-hidden="true">
					<img src="1chr.png" alt="청하람 로고" class="cover-img" />
				</div>
				<div class="cover-meta">
					<h1>1청년부 기도훈련집</h1>
					<p style="margin-top:12px;color:var(--muted)">작성자: 이예준목사</p>
				</div>
			</header>

					<nav class="toc" aria-label="목차">
						<div class="toc-list" id="tocList">
							<!-- Restore cover tab -->
							<a href="#cover" data-target="cover">[주님이 가르쳐 주신 기도 순서]</a>
							<a href="#favorites" data-target="favorites" class="active">즐겨찾기</a>
							<a href="#toc" data-target="toc">목차</a>
							<!-- numeric TOC removed from top navigation so only the '목차' tab shows the full table of contents -->
						</div>
				<div class="page-controls">
					<!-- font controls -->
					<button id="fontDec" class="font-btn" title="글자 작게">A-</button>
					<button id="fontReset" class="font-btn" title="기본 글자">A</button>
					<button id="fontInc" class="font-btn" title="글자 크게">A+</button>
				</div>
			</nav>

			<main class="content" id="content" tabindex="0">
						<article id="favorites" class="chapter active" aria-labelledby="favorites-title">
							<h2 id="favorites-title">즐겨찾기</h2>
							<p>즐겨찾기한 챕터는 이 탭에서 확인할 수 있습니다. 별(☆) 버튼을 눌러 즐겨찾기를 추가하거나 제거하세요.</p>
							<ul id="favoritesList" class="favorites-list">
								<!-- Filled dynamically -->
							</ul>
						</article>

						<article id="cover" class="chapter" aria-labelledby="cover-title">
							<h2 id="cover-title">[주님이 가르쳐 주신 기도 순서]지</h2>
							<p>(1) 하나님 이름이 거룩<br>
							(2) 하나님 나라<br>
							(3) 하나님의 뜻<br>
							(4) 양식 / 육신이 필요한 것, 간구, 중보기도<br>
							(5) 용서<br>
							(6) 죄 사함<br>
							(7) 시험<br>
							(8) 악<br>
							(9) 나라와 권세와 영광<br>
							(10) 예수님 이름<br><br>
							[마 6:9~13] 9.그러므로 너희는 이렇게 기도하라 하늘에 계신 우리 
							아버지여 이름이 거룩히 여김을 받으시오며 10.나라가 임하시오며 뜻이 
							하늘에서 이루어진 것 같이 땅에서도 이루어지이다 11.오늘 우리에게 일
							용할 양식을 주시옵고 12.우리가 우리에게 죄 지은 자를 사하여 준 것 
							같이 우리 죄를 사하여 주시옵고 13.우리를 시험에 들게 하지 마시옵고 
							다만 악에서 구하시옵소서 （나라와 권세와 영광이 아버지께 영원히 있
							사옵나이다 아멘. [요 14:13] 13.너희가 내 이름으로 무엇을 구하든지 내가 행하리니 이
							는 아버지로 하여금 아들로 말미암아 영광을 받으시게 하려 함이라</p>
						</article>

						<article id="toc" class="chapter" aria-labelledby="toc-title">
						<h2 id="toc-title">목차</h2>
							<ol>
								<!-- numeric titles 1..35 (links to separate pages) -->
								<li><button class="star-btn" data-target-id="chapter-1" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-1.html"><대적 기도> : 기도회 시작을 위한 대적기도</a></li>
								<li><button class="star-btn" data-target-id="chapter-2" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-2.html"><회개 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-3" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-3.html"><나를 변화 시키는 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-4" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-4.html"><성령 충만을 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-5" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-5.html"><영적 능력을 받기 위한 기도> 성령의 열매와 성령의 은사</a></li>
								<li><button class="star-btn" data-target-id="chapter-6" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-6.html"><대적 기도> : 예수님 이름의 권세, 전신 갑주, 영적 싸움</a></li>
								<li><button class="star-btn" data-target-id="chapter-7" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-7.html"><대적 기도 선포 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-8" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-8.html"><영적 전쟁을 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-9" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-9.html"><영적 전쟁 선포 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-10" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-10.html"><나라를 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-11" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-11.html"><교회를 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-12" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-12.html"><담임목사님을 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-13" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-13.html"><청하람의 리더들을 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-14" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-14.html"><청하람의 사역을 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-15" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-15.html"><청하람의 영적 부흥과 양적 부흥을 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-16" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-16.html"><목장과 목장원을 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-17" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-17.html"><태신자를 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-18" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-18.html"><장결자를 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-19" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-19.html"><가족의 영혼 구원을 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-20" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-20.html"><비전과 진로를 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-21" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-21.html"><영적 사명과 헌신을 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-22" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-22.html"><육적 사명과 빛과 소금의 역할을 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-23" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-23.html"><관계를 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-24" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-24.html"><가정을 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-25" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-25.html"><부모님을 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-26" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-26.html"><이성 교제를 위한 기도> 교제 중인 이성 친구가 있을 때</a></li>
								<li><button class="star-btn" data-target-id="chapter-27" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-27.html"><이성 교제를 위한 기도> 교제 중인 이성 친구가 없을 때</a></li>
								<li><button class="star-btn" data-target-id="chapter-28" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-28.html"><물질 축복을 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-29" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-29.html"><육적 질병 치유를 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-30" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-30.html"><영적 질병 치유를 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-31" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-31.html"><들림받는 믿음과 신앙을 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-32" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-32.html"><개인기도1></a></li>
								<li><button class="star-btn" data-target-id="chapter-33" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-33.html"><개인기도2></a></li>
								<li><button class="star-btn" data-target-id="chapter-34" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-34.html"><영적인 힘을 얻기 위한 기도></a></li>
								<li><button class="star-btn" data-target-id="chapter-35" aria-pressed="false" title="즐겨찾기">☆</button> <a href="chapter-35.html"><성령 충만 기도문></a></li>
							</ol>
						</article>

				<!-- Chapters are now separate pages (chapter-1.html ... chapter-35.html). -->
				<!-- The TOC links above point to those files; per-chapter content lives in each chapter-*.html file. -->
			</main>

			<footer>
				<div>1청년부 기도훈련집 · 2025 · channy</div>
				<div>
					<small>화살표 ← →, Page controls, 또는 목차를 클릭해 이동하세요.(PC버전)</small>
				</div>
			</footer>
		</div>

		<script>
			// Simple SPA navigation for the ebook
			(function(){
			const chapters = Array.from(document.querySelectorAll('article.chapter'));
			// only internal nav links (favorites, toc)
			const navLinks = Array.from(document.querySelectorAll('a[data-target]'));
				let current = chapters.findIndex(c => c.classList.contains('active'));
				if(current < 0) current = 0;

				function showById(id){
					chapters.forEach(a=>a.classList.toggle('active', a.id===id));
					// toggle active state on internal nav links (favorites/toc)
					navLinks.forEach(l=>l.classList.toggle('active', l.dataset.target===id));
					// focus main content for accessibility
					const main = document.getElementById('content');
					main.focus();
					current = chapters.findIndex(c => c.id===id);
				}

						// click handlers for internal tabs (favorites/toc)
						navLinks.forEach(link=>{
							link.addEventListener('click', e=>{
								e.preventDefault();
								const id = link.dataset.target;
								showById(id);
								history.pushState({id}, '', '#'+id);
							});
						});

				// previous/next buttons may be absent on this page (main.html) — attach handlers only if present
				const prevBtn = document.getElementById('prevBtn');
				const nextBtn = document.getElementById('nextBtn');
				if(prevBtn){
					prevBtn.addEventListener('click', ()=>{
						const idx = Math.max(0, current-1);
						showById(chapters[idx].id);
						history.pushState({id:chapters[idx].id}, '', '#'+chapters[idx].id);
					});
				}
				if(nextBtn){
					nextBtn.addEventListener('click', ()=>{
						const idx = Math.min(chapters.length-1, current+1);
						showById(chapters[idx].id);
						history.pushState({id:chapters[idx].id}, '', '#'+chapters[idx].id);
					});
				}

				// keyboard navigation — only trigger if buttons exist on the page
				window.addEventListener('keydown', e=>{
					if(e.key==='ArrowRight' && nextBtn) nextBtn.click();
					if(e.key==='ArrowLeft' && prevBtn) prevBtn.click();
				});

				// Font controls (persisted)
				const FONT_KEY = 'ebookBaseFontSize_v1';
				function loadFont(){ const v = parseInt(localStorage.getItem(FONT_KEY),10); return Number.isFinite(v)? v:16 }
				function saveFont(v){ localStorage.setItem(FONT_KEY, String(v)) }
				function applyFont(v){ document.documentElement.style.setProperty('--base-font-size', v+'px') }
				document.getElementById('fontInc').addEventListener('click', ()=>{ const n = loadFont()+1; saveFont(n); applyFont(n); });
				document.getElementById('fontDec').addEventListener('click', ()=>{ const n = loadFont()-1; saveFont(n); applyFont(Math.max(10,n)); });
				document.getElementById('fontReset').addEventListener('click', ()=>{ saveFont(16); applyFont(16); });
				// apply stored font on load
				applyFont(loadFont());

				// handle back/forward
				window.addEventListener('popstate', e=>{
					const id = (e.state && e.state.id) || location.hash.replace('#','') || chapters[0].id;
					showById(id);
				});

						// initial state from hash
						const start = location.hash.replace('#','');
						if(start){ showById(start); }

						/* Favorites (즐겨찾기) management */
						const FAVORITES_KEY = 'ebookFavorites_v1';
						function loadFavorites(){
							try{ return JSON.parse(localStorage.getItem(FAVORITES_KEY) || '[]'); }catch(e){ return [] }
						}
						function saveFavorites(list){ localStorage.setItem(FAVORITES_KEY, JSON.stringify(list)); }

						function updateStarButtons(){
							const favs = loadFavorites();
							document.querySelectorAll('.star-btn').forEach(btn=>{
								const id = btn.dataset.targetId;
								const on = favs.indexOf(id) !== -1;
								btn.setAttribute('aria-pressed', on? 'true':'false');
								btn.textContent = on? '★' : '☆';
							});
						}

						function updateFavoritesView(){
							const favs = loadFavorites();
							const listEl = document.getElementById('favoritesList');
							listEl.innerHTML = '';
							if(favs.length===0){
								const li = document.createElement('li'); li.textContent = '즐겨찾기가 없습니다.'; listEl.appendChild(li); return;
							}
							favs.forEach(id=>{
								// Try to find a link that points to this chapter page to get the display title
								const link = document.querySelector('a[href$="'+id+'.html"]') || document.querySelector('a[data-target="'+id+'"]');
								const title = link ? link.textContent.trim() : id;
								const li = document.createElement('li');
								const a = document.createElement('a'); a.href = id + '.html'; a.textContent = title; // navigate to external chapter page
								const rm = document.createElement('button'); rm.className='star-btn'; rm.title='제거'; rm.textContent='★'; rm.style.marginLeft='8px';
								rm.addEventListener('click', e=>{
									e.preventDefault();
									toggleFavorite(id, false);
									});
								li.appendChild(a); li.appendChild(rm); listEl.appendChild(li);
							});
						}

						function toggleFavorite(id, force){
							const favs = loadFavorites();
							const idx = favs.indexOf(id);
							let changed=false;
							if(force===true){ if(idx===-1){ favs.push(id); changed=true } }
							else if(force===false){ if(idx!==-1){ favs.splice(idx,1); changed=true } }
							else { if(idx===-1){ favs.push(id); changed=true } else { favs.splice(idx,1); changed=true } }
							if(changed){ saveFavorites(favs); updateStarButtons(); updateFavoritesView(); }
						}

						// star button handlers (multiple places)
						document.querySelectorAll('.star-btn').forEach(btn=>{
							btn.addEventListener('click', e=>{
								const id = btn.dataset.targetId;
								if(!id) return; // some star buttons (in favorites list) handled separately
								toggleFavorite(id);
							});
						});

								// favorites list links go to external chapter pages; no SPA handling needed

						// initialize
						updateStarButtons();
						updateFavoritesView();
			})();
		</script>
	</body>
</html>
